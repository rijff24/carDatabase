{% extends 'base.html' %}

{% block title %}Add New Car - Car Sales Tracking{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">Add New Car</h1>
    
    <form method="POST" action="{{ url_for('cars.create') }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div class="row mb-3">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="vehicle_name">Vehicle Name</label>
                    <input type="text" class="form-control" id="vehicle_name" name="vehicle_name" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="vehicle_make">Make</label>
                    <input type="text" class="form-control" id="vehicle_make" name="vehicle_make" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="vehicle_model">Model</label>
                    <input type="text" class="form-control bg-light text-muted" id="vehicle_model" name="vehicle_model" required disabled style="cursor: not-allowed;" placeholder="Select make first">
                    <div class="form-text text-muted">Model selection will be enabled after choosing a make</div>
                </div>
                
                <div class="form-group mb-3">
                    <label for="year">Year</label>
                    <input type="number" class="form-control" id="year" name="year" min="1900" max="2099" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="colour">Color</label>
                    <input type="text" class="form-control" id="colour" name="colour" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="dekra_condition">Condition</label>
                    <select class="form-control" id="dekra_condition" name="dekra_condition" required>
                        <option value="Excellent">Excellent</option>
                        <option value="Good">Good</option>
                        <option value="Fair">Fair</option>
                        <option value="Poor">Poor</option>
                    </select>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label for="licence_number">License Number</label>
                    <input type="text" class="form-control" id="licence_number" name="licence_number" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="registration_number">Registration Number</label>
                    <input type="text" class="form-control" id="registration_number" name="registration_number" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="purchase_price">Purchase Price</label>
                    <div class="input-group">
                        <span class="input-group-text">R</span>
                        <input type="number" class="form-control" id="purchase_price" name="purchase_price" step="0.01" min="0" required>
                    </div>
                </div>
                
                <div class="form-group mb-3">
                    <label for="source">Source</label>
                    <input type="text" class="form-control" id="source" name="source" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="current_location">Current Location</label>
                    <input type="text" class="form-control" id="current_location" name="current_location" required>
                </div>
                
                <div class="form-group mb-3">
                    <label for="repair_status">Status</label>
                    <select class="form-control" id="repair_status" name="repair_status" required>
                        <option value="Purchased">Purchased</option>
                        <option value="Waiting for Repairs">Waiting for Repairs</option>
                        <option value="In Repair">In Repair</option>
                        <option value="On Display">On Display</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="d-flex justify-content-between">
            <a href="{{ url_for('cars.index') }}" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Save Car</button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/autocomplete.js') }}"></script>
{% endblock %} 